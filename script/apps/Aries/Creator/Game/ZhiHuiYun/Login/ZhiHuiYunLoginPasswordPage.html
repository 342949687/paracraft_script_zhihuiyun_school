<html>
<body> 
<pe:mcml>
<script type='text/npl' src='MainLoginLogin.script.lua'>
<![CDATA[
ZhiHuiYunLoginPage = commonlib.gettable("MyCompany.Aries.Game.ZhiHuiYun.Login.ZhiHuiYunLoginPage")
ZhiHuiYun = commonlib.gettable("MyCompany.Aries.Game.GameLogic.ZhiHuiYun")
ZhiHuiYunLoginPage.OnInitModPage(Page)

function ChangePasswordShow()
    local zhihuiyun_password_input_changepassword1 = ParaUI.GetUIObject("zhihuiyun_password_input_changepassword1")
    zhihuiyun_password_input_changepassword1.PasswordChar = zhihuiyun_password_input_changepassword1.PasswordChar == "*" and "" or "*"

    local zhihuiyun_password_eye = ParaUI.GetUIObject("zhihuiyun_password_eye1")
    local texture_eye_on = "Texture/ZhiHuiYun/Login/on_29x17_32bits.png;0 0 29 17"
    local texture_eye_off = "Texture/ZhiHuiYun/Login/off_29x11_32bits.png;0 0 29 17"
    zhihuiyun_password_eye.background = zhihuiyun_password_input_changepassword1.PasswordChar == "*" and texture_eye_off or texture_eye_on
end

function ChangePasswordModifiedShow()
    local zhihuiyun_password_input = ParaUI.GetUIObject("zhihuiyun_password_modified_input")
    zhihuiyun_password_input.PasswordChar = zhihuiyun_password_input.PasswordChar == "*" and "" or "*"

    local zhihuiyun_password_eye = ParaUI.GetUIObject("zhihuiyun_password_modified_eye")
    local texture_eye_on = "Texture/ZhiHuiYun/Login/on_29x17_32bits.png;0 0 29 17"
    local texture_eye_off = "Texture/ZhiHuiYun/Login/off_29x11_32bits.png;0 0 29 17"
    zhihuiyun_password_eye.background = zhihuiyun_password_input.PasswordChar == "*" and texture_eye_off or texture_eye_on
end


]]>
</script>

<style type='text/mcss'>
</style>
<div style = "width: 466px; height: 280px;">
    <!-- 模式标题 -->
    <pe:if condition='<%=ZhiHuiYun:IsLogin()%>'>
        <div style="width:128px;height: 22px;margin-left: 15px;margin-top: 10px;background: url(Texture/ZhiHuiYun/Login/shuruxinmima_110x22_32bits.png#0 0 128 22)"></div>
    </pe:if>

    <pe:if condition='<%=not ZhiHuiYun:IsLogin()%>'>
        <div style="width:128px;height: 22px;margin-left: 15px;margin-top: 10px;background: url(Texture/ZhiHuiYun/Login/xiugaimima_88x22_32bits.png#0 0 128 22)"></div>
    </pe:if>
    
    <div align="center" style = "width: 436px; height: 4px;margin-left: 0px;margin-top: 8px;background: url(Texture/ZhiHuiYun/Login/tiao_436x4_32bits.png#0 0 436 4)"></div>
    <!-- 账号 -->
    <div>
        <!-- 修改密码中的登录界面 -->
        <pe:container visible="true" name="password_login_container" style="position: relative; width: 466px;height: 230px;background:;">
            <div align="center" style="width: 360px;height: 57px;margin-top: 30px;">
                <div style="width: 360px;height: 42px;background-color: #eeeeee;">
                    <!-- icon -->
                    <div style="float: left;width: 21px; height: 21px;margin-left: 10px;margin-top: 10px;background: url(Texture/ZhiHuiYun/Login/01_21x21_32bits.png#0 0 21 21)"></div>
                    <!-- 输入框 -->
                    <input type="text" EmptyText='请输入用户名' EmptyTextColor='#000000' RemoveSpaces='true' CaretColor="#FFFFFFFF" enable_ime='false' name='account_input' MoveViewWhenAttachWithIME='true'
                    onfocusout ="" style="float: left;font-size: 22px;margin-left: 5px;margin-top:4px;margin-left:2px;textcolor:#000000;width: 324px;height: 35px;background:;" onmodify="" />
                </div>
        
                <!-- 错误码显示 -->
            </div>
            <!-- 密码 -->
            <div align="center" style="width: 360px;height: 57px;margin-top: 18px;">
                <div style="width: 360px;height: 42px;background-color: #eeeeee;">
                    <!-- icon -->
                    <div style="float: left;width: 20px; height: 23px;margin-left: 10px;margin-top: 10px;background: url(Texture/ZhiHuiYun/Login/02_20x23_32bits.png#0 0 20 23)"></div>
                    <!-- 输入框 -->
                    <input type="text" EmptyText='请输入密码' EmptyTextColor='#000000' RemoveSpaces='true' CaretColor="#FFFFFFFF" enable_ime='false' uiname="zhihuiyun_password_input_changepassword1" name='password_input_changepassword1' MoveViewWhenAttachWithIME='true'
                    onfocusout ="" PasswordChar="*" SkipAutoBadWordFilter='true' style="float: left;font-size: 22px;margin-left: 5px;margin-top:4px;margin-left:2px;textcolor:#000000;width: 285px;height: 35px;background:;" onmodify="" />
        
                    <input type="button" uiname="zhihuiyun_password_eye1" onclick="ChangePasswordShow" value="" 
                            style="float: left;width: 34px;height: 20px; margin-left: 0px;margin-top: 13px;background:url(Texture/ZhiHuiYun/Login/off_29x11_32bits.png#0 0 29 17);"/>
                </div>
        
                <!-- 错误码显示 -->
                <input type="button" name="error_code" value="" enable="false" style="text-align: left;color: #a80101;font-size: 10px;margin-left: 0px;background:;"/>
            </div>
        
            <!-- 确定按钮 -->
            <div align="center" style="width: 362px;height: 48px;margin-top: 20px;background:;">
                <input type="button" DefaultButton='true' onclick="ZhiHuiYunLoginPage.OnClickPasswordPageSureButton" style="width: 362px;height: 48px;background:url(Texture/ZhiHuiYun/Login/queding_362x48_32bits.png#0 0 362 48);"/>
            </div>
        </pe:container>
    
        <!-- 修改密码     -->
        <pe:container visible="false" name="password_modified_container" style="position: relative;width: 466px;height: 230px;background:;">
            <div align="center" style="width: 360px;height: 57px;margin-top: 30px;">
                <div style="width: 360px;height: 42px;background-color: #eeeeee;">
                    <!-- icon -->
                    <div style="float: left;width: 20px; height: 23px;margin-left: 10px;margin-top: 10px;background: url(Texture/ZhiHuiYun/Login/02_20x23_32bits.png#0 0 20 23)"></div>
                    <!-- 输入框 -->
                    <input type="text" EmptyText='请输入新密码' EmptyTextColor='#000000' RemoveSpaces='true' CaretColor="#FFFFFFFF" enable_ime='false' uiname="zhihuiyun_password_modified_input" name='password_modified_input' MoveViewWhenAttachWithIME='true'
                    onfocusout ="" PasswordChar="*" SkipAutoBadWordFilter='true' style="float: left;font-size: 22px;margin-left: 5px;margin-top:4px;margin-left:2px;textcolor:#000000;width: 285px;height: 35px;background:;" onmodify="" />
                
                    <input type="button" uiname="zhihuiyun_password_modified_eye" onclick="ChangePasswordModifiedShow" value="" 
                            style="float: left;width: 34px;height: 20px; margin-left: 0px;margin-top: 13px;background:url(Texture/ZhiHuiYun/Login/off_29x11_32bits.png#0 0 29 17);"/>
                </div>
        
                <!-- 错误码显示 -->
            </div>
            <!-- 密码 -->
            <div align="center" style="width: 360px;height: 57px;margin-top: 18px;">
                <div style="width: 360px;height: 42px;background-color: #eeeeee;">
                    <!-- icon -->
                    <div style="float: left;width: 20px; height: 23px;margin-left: 10px;margin-top: 10px;background: url(Texture/ZhiHuiYun/Login/02_20x23_32bits.png#0 0 20 23)"></div>
                    <!-- 输入框 -->
                    <input type="text" EmptyText='再次确认密码' EmptyTextColor='#000000' RemoveSpaces='true' CaretColor="#FFFFFFFF" enable_ime='false' uiname="zhihuiyun_password_input" name='password_modified_input_again' MoveViewWhenAttachWithIME='true'
                    onfocusout ="" PasswordChar="*" SkipAutoBadWordFilter='true' style="float: left;font-size: 22px;margin-left: 5px;margin-top:4px;margin-left:2px;textcolor:#000000;width: 285px;height: 35px;background:;" onmodify="" />
        
                    <input type="button" uiname="zhihuiyun_password_eye" onclick="ZhiHuiYunLoginPage.ChangePasswordShow" value="" 
                            style="float: left;width: 34px;height: 20px; margin-left: 0px;margin-top: 13px;background:url(Texture/ZhiHuiYun/Login/off_29x11_32bits.png#0 0 29 17);"/>
                </div>
        
                <!-- 错误码显示 -->
                <input type="button" name="error_code2" value="" enable="false" style="text-align: left;color: #a80101;font-size: 10px;margin-left: 0px;background:;"/>
            </div>
        
            <!-- 确定按钮 -->
            <div align="center" style="width: 362px;height: 48px;margin-top: 20px;background:;">
                <input type="button" DefaultButton='true' onclick="ZhiHuiYunLoginPage.OnClickPasswordModifiedSureButton" style="width: 362px;height: 48px;background:url(Texture/ZhiHuiYun/Login/queding_362x48_32bits.png#0 0 362 48);"/>
            </div>
        </pe:container>
    </div>
</div>
</pe:mcml>
</body>
</html>
