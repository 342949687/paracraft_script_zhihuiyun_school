<html>
<body> 
<pe:mcml>
<script type='text/npl' src='MainLoginLogin.script.lua'>
<![CDATA[
ZhiHuiYunLoginPage = commonlib.gettable("MyCompany.Aries.Game.ZhiHuiYun.Login.ZhiHuiYunLoginPage")
local Validated = NPL.load('(gl)Mod/WorldShare/helper/Validated.lua')
ZhiHuiYunLoginPage.OnInitModPage(Page)

function update_phone_login_button_status()
    local phone_number = Page:GetUIValue("phone_input")
    if Validated:Phone(phone_number) then
        Page:SetUIValue("error_code", "")
    else
        if #phone_number >= 11 or not tonumber(phone_number) then
            Page:SetUIValue("error_code", "*手机号必须为11位数字")
        end
    end
end
]]>
</script>

<style type='text/mcss'>
</style>
<div style = "width: 466px; height: 280px;">
    <!-- 模式标题 -->
    <div style="width:128px;height: 22px;margin-left: 15px;margin-top: 10px;background: url(Texture/ZhiHuiYun/Login/zhaohuimima_88x22_32bits.png#0 0 128 22)"></div>
    <div align="center" style = "width: 436px; height: 4px;margin-left: 0px;margin-top: 8px;background: url(Texture/ZhiHuiYun/Login/tiao_436x4_32bits.png#0 0 436 4)"></div>
    <!-- 账号 -->
    <div>
        <pe:container visible="true" name="forget_password_input_container" style="position: relative; width: 466px;height: 230px;background:;">
            <div align="center" style="width: 360px;height: 57px;margin-top: 30px;">
                <div style="width: 360px;height: 42px;background-color: #eeeeee;">
                    <!-- icon -->
                    <div style="float: left;width: 21px; height: 21px;margin-left: 10px;margin-top: 10px;background: url(Texture/ZhiHuiYun/Login/01_21x21_32bits.png#0 0 21 21)"></div>
                    <!-- 输入框 -->
                    <input type="text" EmptyText='请输入用户名' EmptyTextColor='#000000' RemoveSpaces='true' CaretColor="#C4C4C4FF" enable_ime='false' name='account_input' MoveViewWhenAttachWithIME='true'
                    onfocusout ="" style="float: left;font-size: 22px;margin-left: 5px;margin-top:4px;margin-left:2px;textcolor:#000000;width: 324px;height: 35px;background:;" onmodify="" />
                </div>
        
                <!-- 错误码显示 -->
            </div>
            <!-- 密码 -->
            <div align="center" style="width: 360px;height: 57px;margin-top: 18px;">
                <div style="width: 360px;height: 42px;background-color: #eeeeee;">
                    <!-- icon -->
                    <div style="float: left;width: 20px; height: 23px;margin-left: 10px;margin-top: 10px;background: url(Texture/ZhiHuiYun/Login/02_20x23_32bits.png#0 0 20 23)"></div>
                    <!-- 输入框 -->
                    <input type="text" EmptyText='请输入预留手机号' EmptyTextColor='#000000' RemoveSpaces='true' CaretColor="#C4C4C4FF" enable_ime='false' name='phone_input' MoveViewWhenAttachWithIME='true'
                    onfocusout ="" style="float: left;font-size: 22px;margin-left: 5px;margin-top:4px;margin-left:2px;textcolor:#000000;width: 285px;height: 35px;background:;" onchange='update_phone_login_button_status' />
                </div>
        
                <!-- 错误码显示 -->
                <input type="button" name="error_code" value="" enable="false" style="text-align: left;color: #a80101;font-size: 10px;margin-left: 0px;background:;"/>
            </div>
        
            <!-- 发送按钮 -->
            <div align="center" style="width: 362px;height: 48px;margin-top: 20px;background:;">
                <input type="button" DefaultButton='true' onclick="ZhiHuiYunLoginPage.SendForgetPassword" style="width: 362px;height: 48px;background:url(Texture/ZhiHuiYun/Login/fasong_362x48_32bits.png#0 0 362 48);"/>
            </div>
        </pe:container>
    
        <pe:container visible="false" name="forget_password_desc_container" style="position: relative;width: 466px;height: 230px;background:;">
            <div align="center" style="width: 422px;height: 135px;margin-top: 10px;background:url(Texture/ZhiHuiYun/Login/03_422x135_32bits.png#0 0 422 135);"></div>
        </pe:container>
    </div>

</div>
</pe:mcml>
</body>
</html>
